@model DetailTicketViewModel
@{
    ViewBag.Title = "Detail";
}

@section scripts  {
    <script type="text/javascript">
        $(document).ready(function () {
            $(function () {
                $(".add-file").on('click', function (e) {
                    e.preventDefault();
                    $(".upload-file").toggle();
                });
            });
        });
    </script>
}


<h2>Detail</h2>

@if (Model == null)
{
    <div style="margin-top:15px;">
        <p><strong>There are no tickets</strong></p>
    </div>
}
else
{
    <table class="table table-striped table-auto-sort">
        <thead>
            <tr>
                <th>Ticket title</th>
                <th>Project name</th>
                <th>Assigned deveopler</th>
                <th>Creator</th>
                <th>Type</th>
                <th>Status</th>
                <th>Priority</th>
                <th>Created</th>
                <th>Updated</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.Title</td>
                <td>@Model.ProjectName</td>
                <td>@Model.AssignedDev</td>
                <td>@Model.CreatorName</td>
                <td>@Model.TicketType</td>
                <td>@Model.TicketStatus</td>
                <td>@Model.TicketPriority</td>
                <td>@Model.DateCreated</td>
                <td>@Model.DateUpdated</td>
            </tr>

        </tbody>
    </table>

    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Ticket Description</h6>
        </div>
        <div class="card-body">
            @Model.Description
        </div>
    </div>

    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Attachment</h6>
        </div>
        <div class="card-body">
        </div>
        <button class=" btn-primary add-file">Add</button>
    </div>

    using (Html.BeginForm("Attachment", "Ticket", FormMethod.Post,
        new
        {
            style = "display: none",
            @class = "upload-file",
            enctype = "multipart/form-data"
        }))
    {
        <input type="file" name="Media" style="font-size:15px;" />
    }

}
